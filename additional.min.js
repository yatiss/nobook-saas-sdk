(function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jQuery"),require("lodash"));else if("function"==typeof define&&define.amd)define(["jQuery","lodash"],e);else{var n="object"==typeof exports?e(require("jQuery"),require("lodash")):e(t.jQuery,t._);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}})(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PID_TYPE={PHYSICAL:"NiFEjb83nJL4",CHEMISTRY:"IfKiInEcZu9c",BIOLOGICAL1:"JuFhE84jRhEh",BIOLOGICAL2:"EjEViMk33jNr"},e.MESSAGE_TYPE={SAVE_DATA:"PHYSICS_SDK_INTERFACE_SAVE",SAVE_DATA_RESPONSE:"PHYSICS_SDK_INTERFACE_SAVE_RESPONSE",PHYSICS_SDK_INTERFACE_FRESH_DATA:"PHYSICS_SDK_INTERFACE_FRESH_DATA",ON_LOAD:"onload"},e.GLOBAL_HOST={DOC_HOST:"https://res-api.nobook.com",DOC_HOST_DEBUG:"http://res-api.nobook.cc"},e.GLOBAL_DOCURL={loginURL:"/api/resapi/v1/login",loginSecondURL:"/zyb/login"}},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(1),s=n(0),c=n(0),u=n(2),f=function(t){function e(){var e=t.call(this)||this;return e.DEBUG=!1,e.token=null,e}return o(e,t),e.prototype.setConfig=function(t){this.docHost=this.DEBUG?c.GLOBAL_HOST.DOC_HOST_DEBUG:c.GLOBAL_HOST.DOC_HOST;for(var e=0,n=Object.keys(c.GLOBAL_DOCURL);e<n.length;e++){var o=n[e];c.GLOBAL_DOCURL[o]=this.docHost+c.GLOBAL_DOCURL[o]}},e.prototype.login=function(t){var e=this,n=u.extend({pid:this.pid,appid:this.appid},t);return new Promise(function(t,o){e.pid===s.PID_TYPE.BIOLOGICAL1||(e.pid,s.PID_TYPE.BIOLOGICAL2),i.get(c.GLOBAL_DOCURL.loginURL,n,function(n,r){if("success"===r)if(n=e.jsonObj(n),200===n.code){e.token=n.data.token,e.uid=n.data.uid;var i=n.data;e._secondLogin().then(function(e){200===e.code?t({success:!0,data:i}):o({success:!1,msg:e.msg})}).catch(function(e){t({success:!0,data:i})})}else o({success:!1,msg:n.msg});else o({success:!1,msg:r})})})},e.prototype._secondLogin=function(){var t=this;return new Promise(function(e,n){i.ajax({type:"get",data:{token:t.token},async:!1,url:c.GLOBAL_DOCURL.loginSecondURL,dataType:"jsonp",jsonp:"jsonpcallback",crossDomain:!0,success:function(t,n){e(t)},error:function(t){n(t)}})})},e.prototype.logout=function(t){return new Promise(function(t,e){})},e.prototype.jsonObj=function(t){return"[object String]"===Object.prototype.toString.call(t)?JSON.parse(t):t},e}(r);e.SDKBase=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(3))},function(t,e,n){"use strict";function o(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(t,e,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,o||t,i),c=f?f+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],s]:t._events[c].push(s):(t._events[c]=s,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,f="~";Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(f=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)u.call(t,e)&&n.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=f?f+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,i=new Array(r);o<r;o++)i[o]=n[o].fn;return i},c.prototype.listenerCount=function(t){var e=f?f+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,o,r,i){var s=f?f+t:t;if(!this._events[s])return!1;var c,u,a=this._events[s],p=arguments.length;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),p){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,e),!0;case 3:return a.fn.call(a.context,e,n),!0;case 4:return a.fn.call(a.context,e,n,o),!0;case 5:return a.fn.call(a.context,e,n,o,r),!0;case 6:return a.fn.call(a.context,e,n,o,r,i),!0}for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];a.fn.apply(a.context,c)}else{var l,_=a.length;for(u=0;u<_;u++)switch(a[u].once&&this.removeListener(t,a[u].fn,void 0,!0),p){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,e);break;case 3:a[u].fn.call(a[u].context,e,n);break;case 4:a[u].fn.call(a[u].context,e,n,o);break;default:if(!c)for(l=1,c=new Array(p-1);l<p;l++)c[l-1]=arguments[l];a[u].fn.apply(a[u].context,c)}}return!0},c.prototype.on=function(t,e,n){return i(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return i(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,o){var r=f?f+t:t;if(!this._events[r])return this;if(!e)return s(this,r),this;var i=this._events[r];if(i.fn)i.fn!==e||o&&!i.once||n&&i.context!==n||s(this,r);else{for(var c=0,u=[],a=i.length;c<a;c++)(i[c].fn!==e||o&&!i[c].once||n&&i[c].context!==n)&&u.push(i[c]);u.length?this._events[r]=1===u.length?u[0]:u:s(this,r)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&s(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=f,c.EventEmitter=c,t.exports=c},,function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=function(t){function e(){var e=t.call(this)||this;return e.DEBUG=!1,e}return o(e,t),e.prototype.setConfig=function(t){},e}(r.SDKBase);e.AdditionalSDK=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7);e.AdditionalSDK=o.AdditionalSDK,"object"==typeof window&&(window.NB_SDK_ADDITIONAL={AdditionalSDK:o.AdditionalSDK})}])});